@page "/bookingcomponent2"
@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
@inject IDialogService DialogService
@using DiaLog
@inject ISnackbar Snackbar
<style>
    .mud-tab {
        justify-content: unset !important;
    }

    .toolBar {
        padding-left: 6px;
        padding-right: 0px;
    }

    .searchcutom.mud-input-control > .mud-input-control-input-container > div.mud-input.mud-input-text {
        margin-top: 0px;
    }

    .table_custom_heard {
        background-color: rgb(42,223,187) !important;
        color: white
    }
</style>

<EditForm Model="@model" OnValidSubmit="OnValidSubmit">
    <MudMainContent Class="pt-16 px-16">
        <MudContainer Class="mt-16">
            <MudGrid>
                <MudItem xs="12">
                    <MudGrid>
                        <MudItem xs="6">
                            <MudText Style="line-height: 60px" Typo="Typo.h5" GutterBottom="true">Booking</MudText>
                        </MudItem>
                        <MudItem xs="6">
                            <MudToolBar Class="toolBar">
                                <MudSpacer />
                                <MudIconButton Icon="@Icons.Material.Outlined.Add" ButtonType="ButtonType.Submit" />
                                <MudIconButton Icon="@Icons.Material.Outlined.Edit" />
                                <MudIconButton Icon="@Icons.Material.Outlined.Notifications" />
                            </MudToolBar>
                        </MudItem>
                    </MudGrid>
                </MudItem>
            </MudGrid>

            <MudGrid>
                <MudItem xs="3">
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Customer" @bind-Value="model.Customer" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Customer)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="P.I.C/Tel" @bind-Value="model.PICTel1" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.PICTel1)" Margin="Margin.Dense" />
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Shipper" @bind-Value="model.Shipper" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Shipper)" Margin="Margin.Dense" />
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="P.I.C/Tel" @bind-Value="model.PICTel2" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.PICTel2)" Margin="Margin.Dense" />
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Consignee" @bind-Value="model.Consignee" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Consignee)" Margin="Margin.Dense" />
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Partner" @bind-Value="model.Partner" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Partner)" Margin="Margin.Dense" />
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Item" @bind-Value="model.Item" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Item)" Margin="Margin.Dense" />
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudGrid>
                                <MudItem xs="8" Style="padding: 12px 0 12px 12px">
                                    <MudTextField @bind-Value="model.Package" Label="Package" Variant="Variant.Outlined" For="@(() => model.Package)" Margin="Margin.Dense"></MudTextField>
                                </MudItem>
                                <MudItem xs="4">
                                    <MudNumericField @bind-Value="model.Qty" Label="Qty" Variant="Variant.Outlined" For="@(() => model.Qty)" Margin="Margin.Dense"></MudNumericField>
                                </MudItem>
                            </MudGrid>
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudNumericField @bind-Value="model.WeightMEA" Label="Weight/MEA" Variant="Variant.Outlined" For="@(() => model.WeightMEA)" Margin="Margin.Dense"></MudNumericField>
                        </MudItem>

                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudNumericField @bind-Value="model.NWeight" Label="N. Weight" Variant="Variant.Outlined" For="@(() => model.NWeight)" Margin="Margin.Dense"></MudNumericField>
                        </MudItem>

                    </MudGrid>
                </MudItem>

                <MudItem xs="3">
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Carrier" @bind-Value="model.Carrier" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Carrier)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="8" Style="padding: 12px 0 12px 12px">
                            <MudTextField @bind-Value="model.Vessel" Label="Vessel" Variant="Variant.Outlined" For="@(() => model.Vessel)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-Value="model.VOY" Label="VOY" Variant="Variant.Outlined" For="@(() => model.VOY)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                    </MudGrid>

                    <MudGrid>
                        <MudItem xs="12">
                            <MudDatePicker Label="ETA" @bind-Date="model.ETA" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.ETA)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudDatePicker Label="ETD" @bind-Date="model.ETD" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.ETD)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="POL" @bind-Value="model.POL" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.POL)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="POD" @bind-Value="model.POD" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.POD)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="POR" @bind-Value="model.POR" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.POR)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="VIA" @bind-Value="model.VIA" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.VIA)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Delivery" @bind-Value="model.Delivery" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Delivery)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Final Dest" @bind-Value="model.FinalDest" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.FinalDest)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Stuffing Place" @bind-Value="model.StuffingPlace" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.StuffingPlace)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>

                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Warehose" @bind-Value="model.Warehose" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Warehose)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                </MudItem>

                <MudItem xs="3">
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Service" @bind-Value="model.Service" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Service)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Load Type" @bind-Value="model.LoadType" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.LoadType)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Freight Terms" @bind-Value="model.FreightTerms" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.FreightTerms)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Service Terms" @bind-Value="model.ServiceTerms" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.ServiceTerms)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Inco Terms" @bind-Value="model.IncoTerms" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.IncoTerms)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>


                    <MudGrid>
                        <MudItem xs="12">
                            <MudTable Class="table_custom"  Context="tableRowContext" Items="@Elements2" Dense="true" MultiSelection="true" @bind-SelectedItems="selectedItems" Hover="@hover"
                                      CommitEditTooltip="Commit Edit" HeaderClass="table_custom_heard"  OnCommitEditClick="@(() => Snackbar.Add("Commit Edit Handler Invoked"))">

                                <HeaderContent >
                                    <MudTh>No</MudTh>
                                    <MudTh>Cntr</MudTh>
                                    <MudTh>Qty</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="No">@tableRowContext.Stt</MudTd>
                                    <MudTd DataLabel="Cntr">@tableRowContext.Cntr</MudTd>
                                    <MudTd DataLabel="Qty">@tableRowContext.Qty</MudTd>
                                </RowTemplate>
                                <RowEditingTemplate>
                                    <MudTd DataLabel="STT">
                                        <MudTextField @bind-Value="@tableRowContext.Stt" Required />
                                    </MudTd>
                                    <MudTd DataLabel="Cntr">
                                        <MudTextField @bind-Value="@tableRowContext.Cntr" Required />
                                    </MudTd>
                                    <MudTd DataLabel="Qty">
                                        <MudTextField @bind-Value="@tableRowContext.Qty" Required />
                                    </MudTd>
                                </RowEditingTemplate>
                                <PagerContent>
                                    <MudHidden IsHidden="selectedItems==null || selectedItems.Count == 0" Invert="true">
                                        <MudButton Variant="Variant.Text" FullWidth="true">Xóa dòng</MudButton>
                                    </MudHidden>

                                    @*<MudHidden IsHidden="selectedItems != null || selectedItems.Count > 0" Invert="true">
                                        <MudButton Variant="Variant.Text" FullWidth="true">Bấm vào để thêm</MudButton>
                                    </MudHidden>*@
                                    <MudButton Variant="Variant.Text" FullWidth="true">Bấm vào để thêm</MudButton>
                                </PagerContent>
                            </MudTable>
                        </MudItem>
                    </MudGrid>

                    
                </MudItem>

                <MudItem xs="3">
                    <MudGrid>
                        <MudItem xs="12">
                            <MudTextField @bind-Value="model.HouseNo" Label="House No" Disabled="true" Variant="Variant.Outlined" For="@(() => model.HouseNo)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudTextField @bind-Value="model.MasterNo" Label="Master No" Disabled="true" Variant="Variant.Outlined" For="@(() => model.MasterNo)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                    </MudGrid>

                    <MudGrid>
                        <MudItem xs="8" Style="padding: 12px 0 12px 12px">
                            <MudDatePicker Label="WMG Close" @bind-Date="model.WMGClose" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.WMGClose)" Margin="Margin.Dense" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-Value="model.Time" Label="Time" Variant="Variant.Outlined" For="@(() => model.Time)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="8" Style="padding: 12px 0 12px 12px">
                            <MudDatePicker Label="S/I Close" @bind-Date="model.SIClose" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.SIClose)" Margin="Margin.Dense" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-Value="model.Time" Label="Time" Variant="Variant.Outlined" For="@(() => model.Time)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                        
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="8" Style="padding: 12px 0 12px 12px">
                            <MudDatePicker Label="Cargo Close" @bind-Date="model.CargoClose" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.CargoClose)" Margin="Margin.Dense" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-Value="model.Time" Label="Time" Variant="Variant.Outlined" For="@(() => model.Time)" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Sale" @bind-Value="model.Sale" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Sale)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="Operator" @bind-Value="model.Operator" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Operator)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudAutocomplete T="string" Label="User" @bind-Value="model.User" SearchFunc="@Search1"
                                             ResetValueOnEmptyText="@resetValueOnEmptyText"
                                             CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.User)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudDatePicker Label="Date" @bind-Date="model.Date" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.Date)" Margin="Margin.Dense" />
                        </MudItem>
                    </MudGrid>
                    <MudGrid>
                        <MudItem xs="12">
                            <MudTextField @bind-Value="model.Remark" Label="Remark" Variant="Variant.Outlined" For="@(() => model.Remark)" Lines="5" Margin="Margin.Dense"></MudTextField>
                        </MudItem>
                    </MudGrid>
                </MudItem>
            </MudGrid>
        </MudContainer>
    </MudMainContent>
    
</EditForm>
@*<EditForm Model="@model" OnValidSubmit="OnValidSubmit">
    <MudMainContent Class="pt-16 px-16">
        <MudContainer Class="mt-16">

            <MudGrid>

                <MudGrid>
                    <MudItem xs="12">

                        <MudGrid>
                            <MudItem xs="6">
                                <MudText Style="line-height: 60px" Typo="Typo.h5" GutterBottom="true">Booking</MudText>
                            </MudItem>
                            <MudItem xs="6">
                                <MudToolBar Class="toolBar">
                                    <MudSpacer />
                                    <MudIconButton Icon="@Icons.Material.Outlined.Add" ButtonType="ButtonType.Submit" />
                                    <MudIconButton Icon="@Icons.Material.Outlined.Edit" />
                                    <MudIconButton Icon="@Icons.Material.Outlined.Notifications" />
                                </MudToolBar>
                            </MudItem>
                        </MudGrid>
                        <DataAnnotationsValidator />
                        <MudGrid>
                            <MudItem xs="12">
                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Customer" @bind-Value="model.Customer" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Customer)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Carrier" @bind-Value="model.Carrier" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Carrier)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Service" @bind-Value="model.Service" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Service)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudDatePicker Label="WMG Close" @bind-Date="model.WMGClose" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.WMGClose)" Margin="Margin.Dense" />
                                    </MudItem>
                                </MudGrid>

                                <MudGrid>


                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="P.I.C/Tel" @bind-Value="model.PICTel1" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.PICTel1)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="model.Vessel" Label="Vessel" Variant="Variant.Outlined" For="@(() => model.Vessel)" Margin="Margin.Dense"></MudTextField>
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="model.HouseNo" Label="House No" Variant="Variant.Outlined" For="@(() => model.HouseNo)" Margin="Margin.Dense"></MudTextField>
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudDatePicker Label="S/I Close" @bind-Date="model.SIClose" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.SIClose)" Margin="Margin.Dense" />
                                    </MudItem>
                                </MudGrid>

                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Shipper" @bind-Value="model.Shipper" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Shipper)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="model.VOY" Label="VOY" Variant="Variant.Outlined" For="@(() => model.VOY)" Margin="Margin.Dense"></MudTextField>
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="model.MasterNo" Label="Master No" Variant="Variant.Outlined" For="@(() => model.MasterNo)" Margin="Margin.Dense"></MudTextField>
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudDatePicker Label="Cargo Close" @bind-Date="model.CargoClose" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.CargoClose)" Margin="Margin.Dense" />
                                    </MudItem>
                                </MudGrid>


                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="P.I.C/Tel" @bind-Value="model.PICTel2" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.PICTel2)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudDatePicker Label="ETA" @bind-Date="model.ETA" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.ETA)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Load Type" @bind-Value="model.LoadType" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.LoadType)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Sale" @bind-Value="model.Sale" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Sale)" Margin="Margin.Dense" />
                                    </MudItem>
                                </MudGrid>


                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Consignee" @bind-Value="model.Consignee" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Consignee)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="ETD" @bind-Value="model.ETD" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.ETD)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Freight Terms" @bind-Value="model.FreightTerms" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.FreightTerms)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Operator" @bind-Value="model.Operator" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Operator)" Margin="Margin.Dense" />
                                    </MudItem>
                                </MudGrid>

                                <MudGrid>


                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Partner" @bind-Value="model.Partner" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Partner)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="POL" @bind-Value="model.POL" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.POL)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Service Terms" @bind-Value="model.ServiceTerms" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.ServiceTerms)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="User" @bind-Value="model.User" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.User)" Margin="Margin.Dense" />
                                    </MudItem>
                                </MudGrid>

                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Item" @bind-Value="model.Item" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Item)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="POD" @bind-Value="model.POD" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.POD)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Inco Terms" @bind-Value="model.IncoTerms" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.IncoTerms)" Margin="Margin.Dense" />
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudDatePicker Label="Date" @bind-Date="model.Date" DateFormat="dd/MM/yyyy" AdornmentColor="Color.Tertiary" Variant="Variant.Outlined" For="@(() => model.Date)" Margin="Margin.Dense" />
                                    </MudItem>

                                </MudGrid>

                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="model.Package" Label="Package" Variant="Variant.Outlined" For="@(() => model.Package)" Margin="Margin.Dense"></MudTextField>
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="POR" @bind-Value="model.POR" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.POR)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Warehose" @bind-Value="model.Warehose" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Warehose)" Margin="Margin.Dense" />
                                        
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="model.Remark" Label="Remark" Variant="Variant.Outlined" For="@(() => model.Remark)" Margin="Margin.Dense"></MudTextField>
                                    </MudItem>

                                </MudGrid>

                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudNumericField @bind-Value="model.Qty" Label="Qty" Variant="Variant.Outlined" For="@(() => model.Qty)" Margin="Margin.Dense"></MudNumericField>
                                       
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="VIA" @bind-Value="model.VIA" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.VIA)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">
                                        
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                </MudGrid>

                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudNumericField @bind-Value="model.NWeight" Label="N. Weight" Variant="Variant.Outlined" For="@(() => model.NWeight)" Margin="Margin.Dense"></MudNumericField>
                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Delivery" @bind-Value="model.Delivery" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.Delivery)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                </MudGrid>
                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Final Dest" @bind-Value="model.FinalDest" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.FinalDest)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                </MudGrid>
                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        <MudAutocomplete T="string" Label="Stuffing Place" @bind-Value="model.StuffingPlace" SearchFunc="@Search1"
                                                         ResetValueOnEmptyText="@resetValueOnEmptyText"
                                                         CoerceText="@coerceText" CoerceValue="@coerceValue" Variant="Variant.Outlined" For="@(() => model.StuffingPlace)" Margin="Margin.Dense" />
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                </MudGrid>

                                <MudGrid>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">
                                        
                                    </MudItem>
                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                    <MudItem xs="12" sm="6" md="3">

                                    </MudItem>

                                </MudGrid>
                            </MudItem>
                        </MudGrid>


                    </MudItem>


                </MudGrid>
            </MudGrid>
        </MudContainer>
    </MudMainContent>*@
    @*<MudMainContent Style="background-color: #f5f5f5; margin-top: 60px; padding-bottom: 80px">
        <MudContainer Class="mt-16" style=" background-color: white; border-radius: 5px; margin-top: 0px !important ">
            <MudGrid Style="margin-top: 20px">
                <MudItem xs="12">

                    <MudGrid>
                        <MudItem xs="12" sm="6" md="3">
                            
                        </MudItem>

                        <MudItem xs="12" sm="6" md="3">
                            
                        </MudItem>

                        <MudItem xs="12" sm="6" md="3">
                            
                        </MudItem>
                        <MudItem xs="12" sm="6" md="3">
                            
                        </MudItem>
                    </MudGrid>

                    <MudGrid>


                        <MudItem xs="12" sm="6" md="4">
                            
                        </MudItem>

                        <MudItem xs="12" sm="6" md="4">
                            
                        </MudItem>

                        <MudItem xs="12" sm="6" md="4">
                           
                        </MudItem>
                    </MudGrid>


                    <MudGrid Style="margin-top: 30px; margin-bottom: 10px">
                        <MudItem xs="12">
                            <MudText Typo="Typo.h6" GutterBottom="true">CONTAINER LIST</MudText>
                        </MudItem>

                    </MudGrid>

                    <MudGrid>
                        <MudItem xs="12" sm="6" md="4">
                            <MudItem xs="12" Style="padding-top: 5px">
                                <MudTable Context="tableRowContext" Style="position: relative;max-width: 1000px; min-width: 300px" Items="@Elements2" Dense="true" MultiSelection="true" @bind-SelectedItems="selectedItems" Hover="@hover"
                                          CommitEditTooltip="Commit Edit" OnCommitEditClick="@(() => Snackbar.Add("Commit Edit Handler Invoked"))">
                                    <HeaderContent>
                                        <MudTh>Cntr</MudTh>
                                        <MudTh>Qty</MudTh>
                                    </HeaderContent>
                                    <RowTemplate>
                                        <MudTd DataLabel="Cntr">@tableRowContext.Cntr</MudTd>
                                        <MudTd DataLabel="Qty">@tableRowContext.Qty</MudTd>
                                    </RowTemplate>
                                    <RowEditingTemplate>
                                        <MudTd DataLabel="Cntr">
                                            <MudTextField @bind-Value="@tableRowContext.Cntr" Required />
                                        </MudTd>
                                        <MudTd DataLabel="Qty">
                                            <MudTextField @bind-Value="@tableRowContext.Qty" Required />
                                        </MudTd>
                                    </RowEditingTemplate>
                                </MudTable>
                            </MudItem>
                        </MudItem>

                        <MudItem xs="12" sm="6" md="8">
                            <MudGrid>
                                <MudItem xs="12" sm="6" md="6">
                                   
                                </MudItem>

                                <MudItem xs="12" sm="6" md="6">
                                   

                                </MudItem>


                            </MudGrid>

                            <MudGrid>
                                <MudItem xs="12" sm="6" md="6">
                                   
                                </MudItem>

                                <MudItem xs="12" sm="6" md="6">
                                    
                                </MudItem>


                            </MudGrid>

                            <MudGrid>
                                <MudItem xs="12" sm="12" md="12">
                                    
                                </MudItem>

                            </MudGrid>
                        </MudItem>


                    </MudGrid>






                </MudItem>
            </MudGrid>
        </MudContainer>

</MudMainContent>*@
@*</EditForm>*@
    @code {

        Booking model = new Booking();
        GhiChuBaoGia model1 = new GhiChuBaoGia();
        public class GhiChuBaoGia
        {
            public string GhiChu { get; set; }
            public string LienHe { get; set; }
        }
        public class Booking
        {
            public string LoadType { get; set; }
            public string FreightTerms { get; set; }
            public string ServiceTerms { get; set; }
            public string IncoTerms { get; set; }
            public DateTime? CargoClose { get; set; }
            public DateTime? WMGClose { get; set; }
            public DateTime? SIClose { get; set; }
            public DateTime? DoorDate { get; set; }
            public string WeightMEA { get; set; }
            public string Sale { get; set; }
            public string Operator { get; set; }
            public string User { get; set; }
            public DateTime? Date { get; set; }
            public string Remark { get; set; }

            public string HouseNo { get; set; }
            public string MasterNo { get; set; }
            public string Service { get; set; }
            public string POR { get; set; }
            public string Carrier { get; set; }
            public string Customer { get; set; }
            public string Vessel { get; set; }
            public string VOY { get; set; }
            public string VIA { get; set; }
            public string PICTel1 { get; set; }
            public string FinalDest { get; set; }
            public DateTime? ETD { get; set; }
            public string Shipper { get; set; }
            public string Warehose { get; set; }
            public DateTime? ETA { get; set; }
            public string PICTel2 { get; set; }
            public string Delivery { get; set; }
            public string POL { get; set; }
            public string Consignee { get; set; }
            public string StuffingPlace { get; set; }
            public string POD { get; set; }
            public string Partner { get; set; }
            public int NWeight { get; set; }
            public string Package { get; set; }
            public int Qty { get; set; }
            public string Item { get; set; }
            public string Time { get; set; }
        }

        bool success;
        string[] errors = { };
        private void OnValidSubmit(EditContext context)
        {
            //detailQuatationSea1.Add(new DetailQuatationSea1 { MaPhi = "04041999999", TenPhi = "Dũng", KieuPhi = "TPBANK", TienTe = "VNĐ", DonGia = "1000/MIN(KG); 22.500/+45(KG)", GhiChu = "" });
        }

        private void OnValidSubmit1(EditContext context)
        {
        }
        protected override async Task OnInitializedAsync()
        {
            Elements2 = detailContainerlists;
        }

        private void OpenDetailQuotation()
        {
            DialogService.Show<DialogDetailQuotationAir>("Simple Dialog");
        }


        private bool resetValueOnEmptyText;
        private bool coerceText;
        private bool coerceValue;
        private string value1, value2;
        private bool hover = true;
        public string searchString { get; set; }

        private string[] states =
    {
        "Alabama", "Alaska", "American Samoa", "Arizona",
        "Arkansas", "California", "Colorado", "Connecticut",
        "Delaware", "District of Columbia", "Federated States of Micronesia",
        "Florida", "Georgia", "Guam", "Hawaii", "Idaho",
    };

        private string[] states2 =
        {
        "Xác nhận", "Treo", "Hủy",
    };

        private async Task<IEnumerable<string>> Search1(string value)
        {
            // In real life use an asynchronous function for fetching data from an api.
            await Task.Delay(5);

            // if text is null or empty, show complete list
            if (string.IsNullOrEmpty(value))
                return states;
            return states.Where(x => x.Contains(value, StringComparison.InvariantCultureIgnoreCase));
        }

        private async Task<IEnumerable<string>> Search2(string value)
        {
            // In real life use an asynchronous function for fetching data from an api.
            await Task.Delay(5);

            // if text is null or empty, show complete list
            if (string.IsNullOrEmpty(value))
                return states2;
            return states2.Where(x => x.Contains(value, StringComparison.InvariantCultureIgnoreCase));
        }

        class DetailContainerlist
        {
            public string Stt;
            public string Cntr;
            public string Qty;
        }

        DetailContainerlist[] detailContainerlists = new DetailContainerlist[]
    {
        new DetailContainerlist { Stt = "1",Cntr = "OF", Qty = "1", },
        new DetailContainerlist {Stt = "2", Cntr = "OF", Qty = "2", },
 new DetailContainerlist { Stt = "3",Cntr = "OF", Qty = "3", },
                                    };


        private HashSet<DetailContainerlist> selectedItems = new HashSet<DetailContainerlist>();
        private IEnumerable<DetailContainerlist> Elements2 = new List<DetailContainerlist>();



    }

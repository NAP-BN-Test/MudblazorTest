@using System.Net.Http.Json
@inject HttpClient httpClient
@page "/listcustomer"
@inject ILanguageContainerService lang
<style>
    .mud-table-cell {
        min-width: 170px !important;
    }

    .mud-toolbar.mud-toolbar-gutters.toolbarCustom {
        padding-left: 6px;
        padding-right: 0px;
    }

    .searchcutom.mud-input-control > .mud-input-control-input-container > div.mud-input.mud-input-text {
        margin-top: 0px;
    }
</style>
<MudGrid Style="margin-top: 10px">
    <MudGrid>
        <MudItem xs="12" Style="margin-top: 10px">
            <MudText Typo="Typo.h5" GutterBottom="true">@lang.Keys["Code"]</MudText>
        </MudItem>
        <MudItem xs="12">
            <MudToolBar Class="toolbarCustom">
                <MudTextField @bind-Value="searchString" Style="width: 50%" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0 searchcutom"></MudTextField>
                <MudSpacer />
                <MudLink Href="/addcustomer" Typo="Typo.body2"><MudIconButton Icon="@Icons.Material.Outlined.Add" /></MudLink>
                <MudIconButton Icon="@Icons.Material.Outlined.Edit" />
                <MudIconButton Icon="@Icons.Material.Outlined.Delete" />
                <MudIconButton Icon="@Icons.Material.Outlined.Print" />


            </MudToolBar>
        </MudItem>
    </MudGrid>

    <MudGrid>
        <MudItem xs="12">
            <MudTable Items="@Elements" MultiSelection="true" @bind-SelectedItems="selectedItems1" Hover="@hover" HorizontalScrollbar="true">
                <HeaderContent>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    <MudTh>@lang.Keys["Code"]</MudTh>
                    @*<MudHidden IsHidden="selectedItems1==null || selectedItems1.Count == 0" Invert="true">
                            <MudTh>Ngày sinh</MudTh>
                        </MudHidden>*@
                <MudTh>@lang.Keys["Code"]</MudTh>
                <MudTh>@lang.Keys["Code"]</MudTh>
                <MudTh>@lang.Keys["Code"]</MudTh>
                <MudTh>@lang.Keys["Code"]</MudTh>
                <MudTh>@lang.Keys["Code"]</MudTh>
                <MudTh>@lang.Keys["Code"]</MudTh>
                <MudTh>@lang.Keys["Code"]</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="MaKhachHang">@context.MaKhachHang</MudTd>
                    <MudTd DataLabel="NhomKhachhang">@context.NhomKhachhang</MudTd>
                    <MudTd DataLabel="Ten">@context.Ten</MudTd>
                    <MudTd DataLabel="Loai">@context.Loai</MudTd>
                    <MudTd DataLabel="DiaChi">@context.DiaChi</MudTd>
                    <MudTd DataLabel="DiaChiDangKyKinhDoanh">@context.DiaChiDangKyKinhDoanh</MudTd>
                    <MudTd DataLabel="QuocGia">@context.QuocGia</MudTd>
                    <MudTd DataLabel="SoDienThoai">@context.SoDienThoai</MudTd>
                    <MudTd DataLabel="Email">@context.Email</MudTd>
                    <MudTd DataLabel="Fax">@context.Fax</MudTd>
                    @*<MudHidden IsHidden="selectedItems1==null || selectedItems1.Count == 0" Invert="true">
                            <MudTd DataLabel="ngaysinh">@context.ngaysinh</MudTd>
                        </MudHidden>*@
                    <MudTd DataLabel="NgaySinh">@context.NgaySinh</MudTd>
                    <MudTd DataLabel="MaSoThue">@context.MaSoThue</MudTd>
                    <MudTd DataLabel="LoaiHinhKinhDoanh">@context.LoaiHinhKinhDoanh</MudTd>
                    <MudTd DataLabel="LoaiKhachHang">@context.LoaiKhachHang</MudTd>
                    <MudTd DataLabel="LoaiTienTe">@context.LoaiTienTe</MudTd>
                    <MudTd DataLabel="GhiChu">@context.GhiChu</MudTd>
                    <MudTd DataLabel="HoatDong">@context.HoatDong</MudTd>
                </RowTemplate>
                <PagerContent>
                    <MudTablePager PageSizeOptions="new int[]{50, 100}" />
                </PagerContent>

            </MudTable>
        </MudItem>
    </MudGrid>
</MudGrid>


@code {
    private bool hover = true;
    CustomerDetail[] customerDetails = new CustomerDetail[]
{
        new CustomerDetail { MaKhachHang = "3702717812", NhomKhachhang = "AASC", Ten = "CÔNG TY TNHH THƯƠNG MẠI - DỊCH VỤ AN ĐẠT THÀNH" , Loai = "Cá nhân", DiaChi = "24-26 LÝ QUỐC SƯ, PHƯỜNG HÀNG TRỐNG, QUẬN HOÀN KIẾM, TP HÀ NỘI, VIỆT NAM",DiaChiDangKyKinhDoanh = "24-26 LÝ QUỐC SƯ, PHƯỜNG HÀNG TRỐNG, QUẬN HOÀN KIẾM, TP HÀ NỘI, VIỆT NAM",
            QuocGia = "Việt Nam", SoDienThoai = "033396855" , Email = "dung@gmail.com", Fax = "1965632220" ,NgaySinh = DateTime.Now, MaSoThue = "1035165165", LoaiHinhKinhDoanh = "AB",
    LoaiKhachHang = "OTH", LoaiTienTe = "VNĐ", GhiChu = "Không", HoatDong = true },
                    };


    class CustomerDetail
    {
        public string MaKhachHang;
        public string Ten;
        public string SoDienThoai;
        public string thutu;
        public string Loai;
        public string NhomKhachhang;
        public string DiaChiDangKyKinhDoanh;
        public string DiaChi;
        public string QuocGia;
        public string Email;
        public string MaSoThue;
        public string Fax;
        public string LoaiTienTe;
        public string LoaiKhachHang;
        public string LoaiHinhKinhDoanh;
        public string GhiChu;
        public bool HoatDong;
        public DateTime? NgaySinh;
    }

    private string searchString = "";

    private HashSet<CustomerDetail> selectedItems1 = new HashSet<CustomerDetail>();
    private IEnumerable<CustomerDetail> Elements = new List<CustomerDetail>();
    protected override async Task OnInitializedAsync()
    {
        Elements = customerDetails;
        lang.InitLocalizedComponent(this);
    }
}

